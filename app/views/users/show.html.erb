<h2>Welcome To Your Bucket, <%= @user.name.capitalize %>!</h2>
<!-- reduce the logic in this view!! -->

<!-- don't show if no incomplete drops or no upcoming_activity_deadlines -->
<% if @user.activities.any? { |activity| activity.complete == false} ||
  !@user.upcoming_activity_deadlines.empty? %>

  <hr>
  <h3> Upcoming Drop Deadlines </h3>

  <% @user.upcoming_activity_deadlines.each do |activity| %>
    <p><%= link_to "#{activity.title} | Due: #{activity.formatted_date}", activity_path(activity)  %></p>
  <% end %>
<% end %>

<hr>
<% if @user.image %>
  <%= image_tag(@user.image) %>
<% end %>

<hr>
<hr>
<h2> My Drops </h2>
<!-- if user has no drops -->
<% if @user.activities.empty? %>
  <h2><p>You haven't planned any drops! Add a drop below.</p></h2>
<% else %>
  <!-- see all drops! -->
  <h5><i><%= link_to 'See All of My Drops', activities_path %></i></h5>
  <!-- list user's incomplete drops -->
  <% @user.activities.each do |activity| %>
    <% if activity.complete == false %>
      <h4><li><%= link_to "#{activity.title}", activity_path(activity.id) %></h4>
    <% end %>
  <% end %>
<% end %>

<h2>Add A Drop to Your Bucket!</h2>

<%= form_for @user do |f| %>
  <%= fields_for :activities do |ff| %>
    <p><%= ff.label "Give your drop a title" %></p>
    <%= ff.text_field :title %>
    <p><%= ff.label "Explain this drop and why is this important?" %></p>
    <%= ff.text_area :description %>
    <p><%= ff.label "By what date would you like to accomplish this drop?" %></p>
    <%= ff.date_field :due_date %>
  <% end %>
  <p><%= f.submit "Add Drop to Bucket" %></p>
<% end %>

<hr>
<p><%= link_to 'My Account', '/account' %></p>
<p><%= link_to 'Log Out', '/logout' %></p>
