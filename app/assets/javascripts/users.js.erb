function Activity(dueDate) {

  this.dueDate = dueDate,

	this.formatDueDate = function() {
		return dueDate.toDateString()
	}
}
//

// View All Drops Button //
$(function() {
  $("#all-drops-button").on('click', function() {
    $("#activities-form").hide()
    const rightColumnDiv = $("#right-column-content")
    const userID = this.dataset.userId

    rightColumnDiv.empty()
    rightColumnDiv.html("<h2>My Drops</h2>")

    $.get(`/users/${userID}/activities`, function(data) {
      const activities = data
      activities.forEach(function(activity) {
        rightColumnDiv.append(
        `<ul><li><a href="../activities/${activity.id}">${activity.title}</a></li></ul>`
        )
      })
    })
  })
})

// Add A Drop Form Display //
$(function() {
  $("#add-drop-button").on("click", function() {
    $("#right-column-content").empty()

    const rightColumnDiv = $("#right-column-content")
    rightColumnDiv.html("<h2>Add A Drop To Your Bucket!</h2>")

    const newActivityFormDiv = $("#activities-form")
    newActivityFormDiv.show()
  })
})

// Add Drop Post Request //
$(function() {
  $('input#submit-new-drop-button').on("click", function(event){
    event.preventDefault()

    const values = $('form').serialize()
    const posting = $.post("/activities", values)

    posting.done(function(data) {
      $('form').empty()

      const activity = data.activity
      const category_name = data.activity_category

      let activity1 = new Activity(activity.due_date)
      let date = new Date(activity.due_date).toDateString()
      const rightColumnDiv = $("#right-column-content")
      // debugger
      rightColumnDiv.html(`<h2>Your Newest Drop!</h2><p>${activity.title}</p><p>${category_name}</p><p>${activity.description}</p><p>${date}</p>`)
    })
  })
})

// Show To Do Lists //
$(function() {
  $("#to-do-button").on('click', function() {
    const rightColumnDiv = $("#right-column-content")
    const userID = this.dataset.userId

    $("#activities-form").hide()
    rightColumnDiv.empty()
    rightColumnDiv.html("<h2>My To Dos</h2>")

    $.get(`/users/${userID}/lists`, function(data) {
      const lists = data
      lists.forEach(function(list) {
        rightColumnDiv.append(
        `<ul><li><a href="../lists/${list.id}">${list.name}</a></li></ul>`
        )
      })
    })
  })
})
