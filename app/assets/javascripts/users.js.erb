// View All Drops Button //
$(function() {
  $("#all-drops-button").on('click', function() {
    $("#activities-form").hide()
    const rightColumnDiv = $("#right-column-content")
    let userID = this.dataset.userId

    rightColumnDiv.empty()
    rightColumnDiv.html("<h2>My Drops</h2>")

    $.get(`/users/${userID}/activities`, function(data) {
      let activities = data
      activities.forEach(function(activity) {
        rightColumnDiv.append(
        `<ul><li><a href="../activities/${activity.id}">${activity.title}</a></li></ul>`
        )
      })
    })
  })
})

// Add A Drop Form Display //
$(function() {
  $("#add-drop-button").on("click", function() {
    $("#right-column-content").empty()

    const rightColumnDiv = $("#right-column-content")
    rightColumnDiv.html("<h2>Add A Drop To Your Bucket!</h2>")

    const newActivityFormDiv = $("#activities-form")
    newActivityFormDiv.show()
  })
})

// Add Drop Post Request //

$(function createNewActivity() {
  $('form').submit(function(event) {
    event.preventDefault()

    let values = $(this).serialize()
    const posting = $.post('/activities', values)

    posting.done(function(data) {
      $("#right-column-content").empty()

      let activity = data

      const rightColumnDiv = $("#right-column-content")
      rightColumnDiv.html("<h2>Your Newest Drop!</h2>")


      // $("#activity_title").text(activity["title"])
      // $("option:selected").text(activity["category_id"])
      // $("#activity_description").text(activity["description"])
      // $("#activity_due_date").text(activity["due_date"])
    })
  })
})


// Show To Do Lists //
$(function() {
  $("#to-do-button").on('click', function() {
    const rightColumnDiv = $("#right-column-content")
    let userID = this.dataset.userId

    $("#activities-form").hide()
    rightColumnDiv.empty()
    rightColumnDiv.html("<h2>My To Dos</h2>")

    $.get(`/users/${userID}/lists`, function(data) {
      let lists = data
      lists.forEach(function(list) {
        rightColumnDiv.append(
        `<ul><li><a href="../lists/${list.id}">${list.name}</a></li></ul>`
        )
      })
    })
  })
})
